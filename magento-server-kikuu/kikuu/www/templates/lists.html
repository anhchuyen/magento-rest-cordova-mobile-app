<ion-view view-title="Home">
    <ion-nav-title>
        <img src="img/logo.png">
    </ion-nav-title>
    <ion-nav-buttons side="left">
        <button class="button button-icon ion-android-menu" menu-toggle="left"><span ng-if="!user" class="badge badge-assertive"></span></button>
        <a href="#app/search" class="button button-icon ion-android-search"></a>
    </ion-nav-buttons>
    <ion-nav-buttons side="right">
        <button class="button button-icon ion-qr-scanner"></button>
        <a href="#app/frame/cart" class="button button-icon ion-android-cart"></a>
    </ion-nav-buttons>
    <ion-content scroll="false">
        <tab-slide-box>
            <div class="tsb-icons header-slide">
                <div class="tsb-ic-wrp">
                    <ion-scroll direction="x" class="tsb-hscroll">
                        <a ng-repeat="menu in menus" href="javascript:;" on-finish-render="update()">
                            {{menu.name}}
                        </a>
                    </ion-scroll>
                </div>
            </div>
            <ion-slide-box show-pager="false" active-slide="activeSlide"
                           on-slide-changed="slideHasChanged($index)">
                <ion-slide ng-repeat="slide in slides" style="height:100%">
                    <ion-scroll style="height:95%">
                        <ion-refresher
                                pulling-text="Pull to refresh..."
                                on-refresh="doRefresh($index)">
                        </ion-refresher>
                        <ion-list class="products-grid {{slide.class_name}}">
                            <div class="product" ng-repeat="product in slide.lists">
                                <div class="product-inner">
                                    <a href="#app/productDetail/{{product.entity_id}}">
                                        <div class="product-image">
                                            <img class="lazy small-image"
                                                 src="{{product.image_url}}"
                                                 data-original="{{product.image_url}}"
                                                 alt="{{product.name}}">
                                        </div>
                                    </a>

                                    <div class="product-info">
                                        <div class="product-name">
                                            <a href="#app/productDetail/{{product.entity_id}}">{{product.name}}</a>
                                        </div>

                                        <div class="product-price">
                                            <div class="price-box">
                                                <span class="special-price">
                                                    <span class="special-price">
                                                        <span class="price">
                                                            {{product.symbol}}{{product.final_price_with_tax | price}}
                                                        </span>
                                                        &nbsp;
                                                        <span class="old-price">
                                                            {{product.symbol}}{{product.regular_price_with_tax | price}}
                                                        </span>
                                                    </span>
                                                </span>
                                                <span class="discount {{price_percent_class}}">
                                                    <span class="price">
                                                        {{product | discount}}
                                                    </span>
                                                </span>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </ion-list>
                        <ion-infinite-scroll
                                ng-if="slide.hasInit && !slide.loadOver"
                                on-infinite="loadMore($index)"
                                distance="10%">
                        </ion-infinite-scroll>
                    </ion-scroll>
                </ion-slide>
            </ion-slide-box>
        </tab-slide-box>
    </ion-content>
</ion-view>
