<!DOCTYPE html>
<html>
  <head>
    <META http-equiv=Content-Type content="text/html; charset=utf-8">
    <title>Handlebars 构造</title>
  </head>
  <body>
  <h1>Handlebars 构造</h1>
  
<button>向页面发送 HTTP POST 请求，并获得返回的结果</button>
    <!--基础html框架-->
    <table>
      <thead>
        <tr>
          <th>姓名</th>
          <th>性别</th>
          <th>年龄</th>
        </tr>
      </thead>
      <tbody id="tableList">
        
      </tbody>
    </table>
    
    <!--插件引用-->
    <script type="text/javascript" src="bower_components/jquery/jquery.min.js"></script>
    <script type="text/javascript" src="bower_components/handlebars/handlebars.min.js"></script>
    
    <!--Handlebars.js模版-->
    <!--Handlebars.js模版放在script标签中，保留了html原有层次结构,模版中要写一些操作语句-->
    <!--id可以用来唯一确定一个模版,type是模版固定的写法-->
    <script id="table-template" type="text/x-handlebars-template">
      {{#each student}}
            <tr>
              <td>{{entity_id}}</td>
              <td>{{type_id}}</td>
              <td>{{sku}}</td>
            </tr>
      {{/each}}
    </script>
	
	 <script>	  
	 
$(document).ready(function(){
	$("button").click(function(){
		$.ajax({ 
			url: "http://skymazon.sunpop.cn/restconnect/?cmd=menu", 
			contentType: 'application/json',
			dataType: 'json',
			success: function(data){alert(data);}
			});
		  });
});
        //模拟的json对象  	  
			
        var data = {
                    "student": [
                        {entity_id: "533",
						type_id: "simple",
						sku: "32213928303"
							}
                    ]
                };
        
        //注册一个Handlebars模版，通过id找到某一个模版，获取模版的html框架
        //$("#table-template").html()是jquery的语法，不懂的童鞋请恶补。。。
        var myTemplate = Handlebars.compile($("#table-template").html());
        
        //将json对象用刚刚注册的Handlebars模版封装，得到最终的html，插入到基础table中。
        $('#tableList').html(myTemplate(data));
    </script>
	
	
	
  </body>
</html>